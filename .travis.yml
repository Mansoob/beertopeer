# You must sign into travis-ci.org and set the commit hook on your project for travis to
# run on your project. The secure: variable must be generated by running `travis encrypt`
# on a github oauth key that you can generate using curl.

language:
    node_js
node_js:
    - "iojs-v2.0.0"
    #- "iojs"
notifications:
    irc: "irc.freenode.org#generator-travis-ci"
branches:
    only:
        - master
        - feature/jest
env:
    global:
        # GH_OAUTH_TOKEN is the oauth token generated as described at
        # https://help.github.com/articles/creating-an-oauth-token-for-command-line-use
        #
        # curl -u 'username' -d '{"scopes":["repo"],"note":"push to gh-pages from travis"}' https://api.github.com/authorizations
        #
        # It must be encrypted using the travis gem
        # http://about.travis-ci.org/docs/user/build-configuration/#Secure-environment-variables
        #
        # travis encrypt GH_OAUTH_TOKEN=XXXXXXXXXXXXXXX
        #
        # User specific env variables
        - GH_OWNER: fhinkel 
        - GH_PROJECT_NAME: beertopeer
        - secure: "q8AlQM2NaUnLv4LBSdt1+sl8zRrikXGyN3rAU4kfFUeyQPrcULVfGvVHUjSabc53CZQsLS7yWZ2UwxItmJom/7nu9+nGqwAdvDjr0TP5LmBh0xVeDnXlELmji5A6O+v6WfX2XLL37zw7Ig71+K7QrNF/6Y/fFKdUInCBOI5GMKmcv/VaqA+0HK/2SP79rmomWBj8yg8hv8n2QAg2ORwrQ4viybf9RBe1AjpRvVHe/e6JYhiKG6NMuT48cAQzMiSLBsrKDJ7Zl48z/BpNtfE6wjFU2rNpMc5VbbCd3Pxr5s3bv/RiOcP04yjAEMpLJKSd6/rKj+CTVXk1Rvum1OQbESwHUc7+uEmK+yffTeZdHoHORNYO5dLdr77Y7ANRtWik8U86kvFx2BCwgOG7kNDLViDUk6dJOYgr8OFe2oyt6iRWacv2vCSgK8x3cPwVA76Yl/RWAjw99Mzuo5/y4MhNPRpUQLa6BPVtb4OpobKXzWPUvC+baJLT9CbJ2Q287Wj1RoXftLzAMW3yKuLrg4xIp1DGQnHE3ldRILTs646zLjTu8stO0D8vcmIo0SsY+Ipv2N1VcXrrx4vyvBshmNiTPQSPn+fW4jwqd7GEM0Y5ChywygHxiG7Ov8PaucwnIQypPjmbBm+B1kOr7sYrhZUAW0m9fCBPW5zKddDJGU4JzCQ="
        # This .travis.yml file instructs travis-ci.org to build your master branch using `yeoman build`
        # and deploy the output to your project's gh-pages branch.

before_script:
    # install dependencies
    #- gem update --system
    #- gem install compass
    #- npm install -g grunt-cli bower
    # - cp src/constants/LocalConfig.js.template src/constants/LocalConfig.js
script:
    # We want to gate on passing tests and a successful build
    #- bower install
    - npm test
    #- grunt build
    #- mocha test/spec/services/*
deploy:
    provider: script
    script: scripts/deploy.sh
    on:
        branch: feature/jest
        node: "iojs-v2.0.0"

